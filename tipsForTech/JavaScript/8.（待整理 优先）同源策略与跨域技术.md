待整理：1-2参见《JavaScript高级程序设计》P586;3-5参见<http://mp.weixin.qq.com/s/asmzA8a1HuYQxyx8K0q-9g>
## 同源策略
<https://developer.mozilla.org/zh-CN/docs/Web/Security/Same-origin_policy>

貌似是同源策略只限制js。？？？

## iframe跨域问题
<https://www.cnblogs.com/boystar/p/6909214.html>
## 跨域技术
### 1.图像Ping
参见《JavaScript高级程序设计》P586。

我们网站的业务逻辑——参见 工作业务事项/0314-开机全屏广告web端记录/非原生开机广告-2.js 这个也是用的图像Ping进行动态广告曝光次数。

```
var track = new Image();
track.onload = function() {
    window.parent.ga('send', 'event', 'iPhone web app launch ad', 'Sent', imp, {'nonInteraction':1});
};     
track.onerror = function() {
    window.parent.ga('send', 'event', 'iPhone web app launch ad', 'Fail', imp, {'nonInteraction':1});
};
track.src = imp;//其值为'http://g.cn.miaozhen.com/x/k=2039761&p=75bd9&dx=__IPDX__&rt=2&ns=__IP__&ni=__IESID__&v=__LOC__&xa=__ADPLATFORM__&tr=__REQUESTID__&o='
```
### 2.JSONP


### 3.通过修改document.domain来跨子域

### 4.使用window.name来进行跨域

### 5.使用HTML5中新引进的window.postMessage方法来跨域传送数据

### 6.fetch跨域设置

#### Access-Control-Allow-Origin
<https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Access-Control-Allow-Origin>

响应头设置Access-Control-Allow-Origin：https://backyard.ftchinese.com

#### fetch的mode字段

设为

```js
mode: 'cors'
```

<https://developer.mozilla.org/zh-CN/docs/Web/API/WindowOrWorkerGlobalScope/fetch>

#### 参考博客

https://www.jianshu.com/p/b587dd1b7086
