## 文档
<https://reactjs.org/docs/lists-and-keys.html>

## Lists And Keys
First, let’s review how you transform lists in JavaScript.

```
const numbers = [1,2,3,4,5];
const doubles = numbers.map((number) => num * 2);
console.log(doubles);
```

In React, transforming arrays into lists of elements is nearly identical.

在React中，将数组转换为元素列表几乎是一样的。

### Rendering Multiple Components
You can build collections of elements and include them in JSX using curly braces {}.

你可以构建元素集合并且在JSX中使用{}引入它们。

Below, we loop through the numbers array using the JavaScript map() function. We return an <li> element for each item. Finally, we assign the resulting array of elements to listItems:

```
const numbers = [1,2,3,4,5];
const listItems = numbers.map((number) => <li>{number}</li>)

ReactDOM.render(
    <ul>{listItems}</ul>,
    document.getElementById('root');
)
```

### Basic List Component
Usually you would render lists inside a component.

We can refactor the previous example into a component that accepts an array of numbers and outputs an unordered list of elements.

我们可以将上一个例子提取为一个component:

```
function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number) => 
    <li>{number}</li>
  );
  return (
    <ul>{listItems}</ul>
  )
}
const numbers = [1,2,3,4,5];
ReactDOM.render(
  <NumberList numbers={numbers} />,
  document.getElementById('root')
);
```

When you run this code, you’ll be given a warning that a key should be provided for list items. A “key” is a special string attribute you need to include when creating lists of elements. We’ll discuss why it’s important in the next section.

当你运行这段代码时，你会收到一个警告：a key should be provided for list items. “key"是创建elements列表时需要包含了一个特殊字符串属性。我们将在下一部分讨论它的重要性。

Let’s assign a key to our list items inside numbers.map() and fix the missing key issue.

让我们在numbers.map()中为items列表分配一个key并修复刚刚的问题：

```
function NumberList(props) {
  const numbers = props.numbers;
  const listItems = numbers.map((number) =>
    <li key={number.toString()}>
      {number}
    </li>
  );
  return (
    <ul>{listItems}</ul>
  );
}

const numbers = [1, 2, 3, 4, 5];
ReactDOM.render(
  <NumberList numbers={numbers} />,
  document.getElementById('root')
);
```

### Keys
Keys help React identify which items have changed, are added, or are removed. Keys should be given to the elements inside the array to give the elements a stable identity:

Keysb帮助React识别哪个items已经被改变，被添加，或者被移走。在array中，应该为elements设置keys以便给以elements一个稳定的identity：

```
const listItems = numbers.map((number) =>
    <li key={number.toString()}>
        {number}
    </li>
);
```

The best way to pick a key is to use a string that uniquely identifies a list item among its siblings. Most often you would use IDs from your data as keys:

获得key的最好的方式是使用一个字符串，其可以唯一地标识一个列表项。通常，你可以使用data的id作为keys：

```
const todoItems = todos.map((todo) => {
    <li key={todo.id}>
        {todo.text}
    </li>
});
```

When you don’t have stable IDs for rendered items, you may use the item index as a key as a last resort:

当你没有要渲染项的稳定ID时，你可以使用项的idex作为它的key:
```
const todoItems = todos.map((todo, index) =>
  // Only do this if items have no stable IDs
  <li key={index}>
    {todo.text}
  </li>
);
```

We don’t recommend using indexes for keys if the order of items may change. This can negatively impact performance and may cause issues with component state. Check out Robin Pokorny’s article for an in-depth explanation on the negative impacts of using an index as a key. If you choose not to assign an explicit key to list items then React will default to using indexes as keys.

如果项目的顺序可能改变，我们不建议使用索引键。 这可能会对性能产生负面影响，并可能导致组件状态问题。 查阅罗宾·波克尼的文章，深入解释使用索引作为关键的负面影响。 如果您选择不指定显式键来列出项目，则React将默认使用索引作为键。

